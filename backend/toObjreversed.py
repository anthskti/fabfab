def flip_face_winding(obj_content: str) -> str:
    """
    Reverses the order of vertices in every face definition.
    Fixes 'inside-out' or 'invisible' models caused by incorrect winding order.
    """
    new_lines = []
    
    for line in obj_content.split('\n'):
        stripped = line.strip()
        
        if stripped.startswith('f '):
            # Split the line into parts: ['f', 'v1/vt1/vn1', 'v2...', ...]
            parts = stripped.split()
            
            # Keep 'f', but reverse the vertex data list
            # parts[1:] are the vertices. [::-1] reverses them.
            face_data = parts[1:][::-1]
            
            # Reconstruct the line
            new_line = f"f {' '.join(face_data)}"
            new_lines.append(new_line)
        else:
            # Keep vertices, normals, and comments exactly as they are
            new_lines.append(line)
            
    return '\n'.join(new_lines)

# --- Usage with your specific chair data ---

original_obj = """
o RusticDinnerTable\nvn 0.0 1.0 0.0\nvn 0.0 -1.0 0.0\nvn 0.0 0.0 1.0\nvn 0.0 0.0 -1.0\nvn 1.0 0.0 0.0\nvn -1.0 0.0 0.0\n# GROUP:tabletop\nv -1.0 0.8 0.5\nv 1.0 0.8 0.5\nv 1.0 0.8 -0.5\nv -1.0 0.8 -0.5\nv -1.0 0.7 0.5\nv 1.0 0.7 0.5\nv 1.0 0.7 -0.5\nv -1.0 0.7 -0.5\nf 1//1 3//1 2//1\nf 1//1 4//1 3//1\nf 5//2 7//2 8//2\nf 5//2 6//2 7//2\nf 1//3 6//3 5//3\nf 1//3 2//3 6//3\nf 4//4 7//4 3//4\nf 4//4 8//4 7//4\nf 2//5 7//5 6//5\nf 2//5 3//5 7//5\nf 4//6 5//6 8//6\nf 4//6 1//6 5//6\n# GROUP:legs\nv -0.825 0.7 0.475\nv -0.975 0.7 0.475\nv -0.975 0.7 0.325\nv -0.825 0.7 0.325\nv -0.825 0.0 0.475\nv -0.975 0.0 0.475\nv -0.975 0.0 0.325\nv -0.825 0.0 0.325\nf 9//1 11//1 10//1\nf 9//1 12//1 11//1\nf 13//2 15//2 16//2\nf 13//2 14//2 15//2\nf 9//3 14//3 13//3\nf 9//3 10//3 14//3\nf 12//4 15//4 11//4\nf 12//4 16//4 15//4\nf 9//5 16//5 13//5\nf 9//5 12//5 16//5\nf 10//6 15//6 14//6\nf 10//6 11//6 15//6\nv 0.975 0.7 0.475\nv 0.825 0.7 0.475\nv 0.825 0.7 0.325\nv 0.975 0.7 0.325\nv 0.975 0.0 0.475\nv 0.825 0.0 0.475\nv 0.825 0.0 0.325\nv 0.975 0.0 0.325\nf 17//1 19//1 18//1\nf 17//1 20//1 19//1\nf 21//2 23//2 24//2\nf 21//2 22//2 23//2\nf 17//3 22//3 21//3\nf 17//3 18//3 22//3\nf 20//4 23//4 19//4\nf 20//4 24//4 23//4\nf 17//5 24//5 21//5\nf 17//5 20//5 24//5\nf 18//6 23//6 22//6\nf 18//6 19//6 23//6\nv 0.975 0.7 -0.325\nv 0.825 0.7 -0.325\nv 0.825 0.7 -0.475\nv 0.975 0.7 -0.475\nv 0.975 0.0 -0.325\nv 0.825 0.0 -0.325\nv 0.825 0.0 -0.475\nv 0.975 0.0 -0.475\nf 25//1 27//1 26//1\nf 25//1 28//1 27//1\nf 29//2 31//2 32//2\nf 29//2 30//2 31//2\nf 25//3 30//3 29//3\nf 25//3 26//3 30//3\nf 28//4 31//4 27//4\nf 28//4 32//4 31//4\nf 25//5 32//5 29//5\nf 25//5 28//5 32//5\nf 26//6 31//6 30//6\nf 26//6 27//6 31//6\nv -0.825 0.7 -0.325\nv -0.975 0.7 -0.325\nv -0.975 0.7 -0.475\nv -0.825 0.7 -0.475\nv -0.825 0.0 -0.325\nv -0.975 0.0 -0.325\nv -0.975 0.0 -0.475\nv -0.825 0.0 -0.475\nf 33//1 35//1 34//1\nf 33//1 36//1 35//1\nf 37//2 39//2 40//2\nf 37//2 38//2 39//2\nf 33//3 38//3 37//3\nf 33//3 34//3 38//3\nf 36//4 39//4 35//4\nf 36//4 40//4 39//4\nf 33//5 40//5 37//5\nf 33//5 36//5 40//5\nf 34//6 39//6 38//6\nf 34//6 35//6 39//6\n# GROUP:apron_beams\nv -0.825 0.7 0.405\nv 0.825 0.7 0.405\nv 0.825 0.7 0.325\nv -0.825 0.7 0.325\nv -0.825 0.6 0.405\nv 0.825 0.6 0.405\nv 0.825 0.6 0.325\nv -0.825 0.6 0.325\nf 41//1 43//1 42//1\nf 41//1 44//1 43//1\nf 45//2 47//2 48//2\nf 45//2 46//2 47//2\nf 41//3 46//3 45//3\nf 41//3 42//3 46//3\nf 44//4 47//4 43//4\nf 44//4 48//4 47//4\nf 42//5 47//5 46//5\nf 42//5 43//5 47//5\nf 44//6 45//6 48//6\nf 44//6 41//6 45//6\nv -0.825 0.7 -0.325\nv 0.825 0.7 -0.325\nv 0.825 0.7 -0.405\nv -0.825 0.7 -0.405\nv -0.825 0.6 -0.325\nv 0.825 0.6 -0.325\nv 0.825 0.6 -0.405\nv -0.825 0.6 -0.405\nf 49//1 51//1 50//1\nf 49//1 52//1 51//1\nf 53//2 55//2 56//2\nf 53//2 54//2 55//2\nf 49//3 54//3 53//3\nf 49//3 50//3 54//3\nf 52//4 55//4 51//4\nf 52//4 56//4 55//4\nf 50//5 55//5 54//5\nf 50//5 51//5 55//5\nf 52//6 53//6 56//6\nf 52//6 49//6 53//6\nv -0.825 0.7 0.325\nv -0.905 0.7 0.325\nv -0.905 0.7 -0.325\nv -0.825 0.7 -0.325\nv -0.825 0.6 0.325\nv -0.905 0.6 0.325\nv -0.905 0.6 -0.325\nv -0.825 0.6 -0.325\nf 57//1 59//1 58//1\nf 57//1 60//1 59//1\nf 61//2 63//2 64//2\nf 61//2 62//2 63//2\nf 57//3 62//3 61//3\nf 57//3 58//3 62//3\nf 60//4 63//4 59//4\nf 60//4 64//4 63//4\nf 57//5 64//5 61//5\nf 57//5 60//5 64//5\nf 58//6 63//6 62//6\nf 58//6 59//6 63//6\nv 0.905 0.7 0.325\nv 0.825 0.7 0.325\nv 0.825 0.7 -0.325\nv 0.905 0.7 -0.325\nv 0.905 0.6 0.325\nv 0.825 0.6 0.325\nv 0.825 0.6 -0.325\nv 0.905 0.6 -0.325\nf 65//1 67//1 66//1\nf 65//1 68//1 67//1\nf 69//2 71//2 72//2\nf 69//2 70//2 71//2\nf 65//3 70//3 69//3\nf 65//3 66//3 70//3\nf 68//4 71//4 67//4\nf 68//4 72//4 71//4\nf 65//5 72//5 69//5\nf 65//5 68//5 72//5\nf 66//6 71//6 70//6\nf 66//6 67//6 71//6
"""

fixed_obj = flip_face_winding(original_obj)

print("Writing fixed file to chair_fixed.obj...")
with open("chair_fixed.obj", "w") as f:
    f.write(fixed_obj)
print("Done!")